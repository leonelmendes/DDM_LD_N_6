<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="iTask_App_Mobile.Views.DetalheProgramadorPage"
             Title="DetalheProgramadorPage"
             Shell.TabBarIsVisible="False">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="10">

            <!-- HEADER  -->
            <Grid >
                <Grid ColumnDefinitions="Auto,*,Auto">
                    <!-- Botão voltar (placeholder) -->
                    <Image Source="voltar.png"
                           WidthRequest="22"
                           HeightRequest="22"
                           VerticalOptions="Center">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoBackCommand}"/>
                        </Image.GestureRecognizers>
                    </Image>

                    <!-- Título -->
                    <StackLayout Grid.Column="1"
                                 HorizontalOptions="Center">
                        <Label Text="Editar Programador"
                               FontFamily="InterSemiBold"
                               FontSize="20"
                               HorizontalOptions="Center"/>

                        <Label Text="Atualize os dados deste programador"
                               FontFamily="InterRegular"
                               FontSize="13"
                               HorizontalOptions="Center"/>
                    </StackLayout>
                </Grid>
            </Grid>

            <!-- CONTEÚDO -->
            <VerticalStackLayout Margin="0,20" Spacing="10">

                <!-- Info do programador -->
                <StackLayout HorizontalOptions="Center" Spacing="12">
                    <Frame Padding="0" WidthRequest="100" CornerRadius="50"
                           HeightRequest="100">
                        <Image Source="person_1.png" Aspect="AspectFit"/>
                    </Frame>


                    <VerticalStackLayout HorizontalOptions="Center">
                        <Label Text="{Binding Nome}"
                               FontFamily="InterSemiBold"
                               HorizontalTextAlignment="Center"
                               FontSize="17"
                               TextColor="{StaticResource Gray900}"/>
                        <Label Text="{Binding NivelExperiencia}"
                               FontFamily="InterRegular"
                               HorizontalTextAlignment="Center"
                               FontSize="13"
                               TextColor="{StaticResource Gray600}"/>
                    </VerticalStackLayout>
                </StackLayout>

                <StackLayout Spacing="5">
                    <Label Text="Nome completo"
                           FontFamily="InterSemiBold"
                           FontSize="14"
                           TextColor="{StaticResource Gray900}"/>
                    <Frame Padding="10,3" CornerRadius="15" >
                        <Entry Text="{Binding Nome}" Placeholder="Digite o nome" FontFamily="InterRegular" PlaceholderColor="{StaticResource Gray400}"/>
                    </Frame>
                </StackLayout>


                <StackLayout Spacing="5">
                    <Label Text="Email"
                           FontFamily="InterSemiBold"
                           FontSize="14"
                           TextColor="{StaticResource Gray900}"/>
                    <Frame Padding="10,3" CornerRadius="15" >
                        <Entry Text="{Binding Email}" Placeholder="email@exemplo.com" FontFamily="InterRegular" PlaceholderColor="{StaticResource Gray400}"/>
                    </Frame>
                </StackLayout>


                <StackLayout Spacing="5">
                    <Label Text="Username"
                           FontFamily="InterSemiBold"
                           FontSize="14"
                           TextColor="{StaticResource Gray900}"/>
                    <Frame Padding="10,3" CornerRadius="15" >
                        <Entry Text="{Binding Username}" Placeholder="Nome de Utilizador" FontFamily="InterRegular" PlaceholderColor="{StaticResource Gray400}"/>
                    </Frame>
                </StackLayout>

                <StackLayout Spacing="5">
                    <Label Text="Nível de experiência"
                           FontFamily="InterSemiBold"
                           FontSize="14"
                           TextColor="{StaticResource Gray900}"/>
                    <Frame CornerRadius="10"
                            BackgroundColor="{StaticResource Gray100}"
                            Padding="10,3">
                        <Grid >
                            <Picker SelectedItem="{Binding NivelExperiencia}" ItemsSource="{Binding ListaNiveis}" Title="Selecione o nível" FontFamily="InterRegular"/>

                            <Image HorizontalOptions="End" Source="seta_baixo2.png" HeightRequest="20" WidthRequest="20"/>
                        </Grid>
                    </Frame>
                </StackLayout>


                <!-- Gestor responsável (apenas visual, pode ser só leitura depois) -->
                <StackLayout Spacing="5">
                    <Label Text="Gestor responsável"
                           FontFamily="InterSemiBold"
                           FontSize="14"
                           TextColor="{StaticResource Gray900}"/>
                    <Frame CornerRadius="10"
                            BackgroundColor="{StaticResource Gray100}"
                            Padding="10,3">
                        <Entry Text="{Binding GestorResponsavelNome}" IsReadOnly="True" Placeholder="Gestor Responsável" FontFamily="InterRegular" PlaceholderColor="{StaticResource Gray400}" />
                    </Frame>
                </StackLayout>

                <!-- Botão Salvar -->
                <StackLayout Spacing="8" Margin="0,20">
                    <Frame BackgroundColor="{StaticResource Primary}"
                           CornerRadius="14"
                           HasShadow="False"
                           Padding="0">
                        <Button Text="Salvar alterações"
                                Command="{Binding SalvarCommand}"
                                FontFamily="InterSemiBold"
                                TextColor="White"/>
                    </Frame>

                    <Frame BackgroundColor="{StaticResource Primary}"
                           CornerRadius="14"
                           HasShadow="False"
                           Padding="0">
                        <Button Text="Remover programador"
                                Command="{Binding DeletarCommand}"
                                FontFamily="InterSemiBold"
                                TextColor="White"
                                BackgroundColor="DarkRed"/>
                    </Frame>

                </StackLayout>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>